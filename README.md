# CloudMusicDownloader

只想简单的保存一首音乐而不希望登录账号或下载客户端? CloudMusicDownloader(LUD) 可以帮助您以最简单的方式找到您想要的歌曲并以本地.mp3格式呈现给您!

**请注意, CloudMusicDownloader(LUD)不会尝试破解网易云音乐的正常机制，你只能下载/转换自己有权播放的歌曲**

**本程序仍在开发中，许多可见功能可能暂时无法使用或可能导致程序崩溃**

---

## 使用方法

本程序部分功能接入网易云官方API，使用时请确保网络环境。如果网络环境较差，则部分功能使用时可能造成程序假死(未响应)。

### 载入

#### 在线检索

1.`载入`功能可以帮助你找到你想要的歌曲。在菜单栏找到`载入`以打开载入功能区。

2.在左侧的下拉框中，你可以选择搜索的模式。在右侧输入框输入搜索内容后点击`搜索`，程序会自动提交搜索请求并向你展示结果。

> 如果没有你需要的结果，请更换关键词或点击`更多结果`

3.找到你需要的结果，点击右侧的`选择`，然后你就可以在待选列表功能区中找到解析出的所有单曲。

4.点击右侧的`详细信息`可获取歌曲的歌词/MV链接等，你可以选择复制歌词或将歌词附加到下载。附加的歌词将与歌曲一同保存到同一目录下，可以由支持lrc歌词格式的播放器识别。如果有多版本歌词(原文/译文/罗马音)，再次点按歌词下载选项，切换至`附下载所有`，即可将多版歌词置于一个歌词文件。

#### 缓存检索

1.在`载入`功能区中下拉左侧下拉框，选择`本地缓存`。

2.如果你需要自定义载入缓存文件(.uc/.uc!)，在右侧输入框中输入该路径，否则请直接点击`搜索`，程序会自动检索默认缓存位置。

3.点击`选择`，然后你就可以在待选列表中找到解析出的所有单曲。

> 如果你选择载入本地缓存，那么此过程将无需连接互联网

#### 匹配歌曲信息

网易云音乐客户端生成缓存文件的文件名是一串字符串，此时你可以通过匹配歌曲信息功能获取该文件的歌名/作者等信息。

1.选择缓存文件(参见"缓存检索")，此时在待选列表中会增加一个按钮`匹配信息`

2.点击`匹配信息`即可自动为列表中的缓存文件匹配歌曲信息

> 此过程需要连接互联网

> 匹配以文件名为依据，格式为"[歌曲ID]-[比特率]-[随机后缀]"。这是默认的网易云生成规则，但如果你更改了文件名，匹配功能将失效。

### 选择并下载

1.在待选列表勾选你需要输出的歌曲，点击开始下载即可。

2.你可以在`当前任务`中找到工作信息，包括工作进度，工作速度(仅下载)等。

3.下载完成后，点击上方`打开目录`即可找到输出的文件。

> 不建议一次性下载太多项，否则可能被网易云服务器封禁IP地址。

> 如果项来源是本地缓存，那么该过程即使不连接互联网也能进行

> 如果选择下载的歌曲不是开放歌曲，那么可能显示"无法获取下载内容大小"

### 设置

- 该功能正在开发中，已被隐藏

## 关于程序

### 效率测试 (缓存转换)

>总文件数: 300
>
>总大小: 972MB
>
>LUD_V0.4.2运行用时: 8090ms
>
>NMTC运行用时: 122290ms
>
>LUD_V0.4.2效率: 8.3ms/MB
>
>NMTC效率: 124.7ms/MB(快速模式)
>
>LUD_V0.3.0数据: 318/981MB/9640ms/9.8ms/MB
>
>效率提升(较MNTC): 93.3%
>
>效率提升(较V0.3.0): 15.3%
>
>结果哈希值: 相同

### NMTC替换解决方案

本程序几乎可以完美替换原解决方案NMTC，且有一定的效率提升与附加功能。

要载入缓存文件，请参阅[缓存检索](https://github.com/MucheXD/CloudMusicDownloader#缓存检索)

效率提升：参阅[效率测试](https://github.com/MucheXD/CloudMusicDownloader#效率测试)

+ LUD额外支持匹配歌曲信息功能。
+ LUD支持移动设备端的缓存文件 (.uc!)

### 环境说明

以下列出建议的运行环境

> Runtime: Microsoft Visual C++ 2015-2019 Redistributable
>
> System: Windows 10 / Windows 11
>
> RAM: 96MB+ (free)

如果您下载的是单文件版本，则需要附加QT运行时库

### 制作与版权

#### 程序制作者

+ 代码逻辑/UI界面: MucheXD 100%

+ 内部图标提供方: iconfont (https://www.iconfont.cn/)

+ 字体: 默认为微软雅黑，但是非嵌入式的。调用文件: .ui

#### 版权与许可证

本程序使用以下编译器或支持库

+ VisualStudio 2022

+ QT 6.3.1

详细许可证内容请参阅其对应的官方网站
